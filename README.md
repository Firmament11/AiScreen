# AI Screen - 智能截图分析工具

一个基于腾讯云混元AI的智能截图分析工具，专为前端工程师笔试练习设计，支持剪贴板监控和实时AI解答。

## 🌟 功能特性

- 🖼️ **智能截图分析** - 自动识别剪贴板中的截图内容
- 🤖 **AI驱动解答** - 基于腾讯云混元AI的专业题目分析
- 📱 **移动端适配** - 支持横屏/竖屏自适应显示
- 🌐 **局域网访问** - 支持手机通过热点访问电脑服务
- 📝 **自动日志** - 解答内容自动保存到日志文件
- ⚡ **实时通信** - WebSocket实现即时响应
- 📦 **一键打包** - 可打包成独立可执行文件

## 📁 项目结构

```
AiScreen/
├── myapp/              # Web应用
│   ├── server.py       # FastAPI后端服务
│   ├── index.html      # 前端页面
│   ├── script.js       # 前端JavaScript
│   ├── style.css       # 样式文件
│   ├── prompt.txt      # AI提示词配置文件
│   ├── requirements.txt # Python依赖
│   ├── .env.example    # 环境变量模板
│   ├── aiscreen.spec   # PyInstaller打包配置
│   ├── build.bat       # 一键打包脚本
│   ├── run.bat         # 一键运行脚本
│   └── .gitignore      # Git忽略文件
├── plugin/             # 浏览器插件
│   ├── manifest.json   # 插件配置
│   ├── background.js   # 后台脚本
│   └── content.js      # 内容脚本
└── log/                # 自动生成的日志目录
    └── *.md            # 按日期保存的解答日志
```

## 🚀 快速开始（0基础教程）

### 方式一：使用打包版本（推荐新手）

#### 1. 下载和解压
- 下载项目到本地
- 解压到任意目录（如：`D:\AiScreen`）

#### 2. 申请腾讯云API密钥

**步骤详解：**
0. **电脑开启剪切板功能**  win+v

1. **注册腾讯云账号**
   - 访问 [腾讯云官网](https://cloud.tencent.com/)
   - 点击右上角「注册」按钮
   - 使用手机号或邮箱完成注册
   - 完成实名认证（需要身份证）

2. **开通混元大模型服务**
   - 登录腾讯云控制台
   - 搜索「混元大模型」或访问 [混元控制台](https://console.cloud.tencent.com/hunyuan)
   - 点击「立即开通」
   - 选择「按量计费」模式（新用户有免费额度）

3. **获取API密钥**
   - 访问 [API密钥管理](https://console.cloud.tencent.com/cam/capi)
   - 点击「新建密钥」
   - 记录下 `SecretId` 和 `SecretKey`（请妥善保管）

#### 3. 配置API密钥

1. 进入 `myapp` 目录
2. 复制 `.env.example` 文件并重命名为 `.env`
3. 用记事本打开 `.env` 文件
4. 填入您的API密钥：
   ```
   TENCENT_SECRET_ID=您的SecretId
   TENCENT_SECRET_KEY=您的SecretKey
   ```
5. 保存文件

#### 4. 打包程序

1. 双击运行 `build.bat`
2. 等待打包完成（首次需要下载依赖，可能需要几分钟）
3. 打包完成后，在 `dist` 目录下会生成 `AiScreen.exe`

#### 5. 运行程序

1. 将 `.env` 文件复制到 `dist` 目录
2. 双击 `AiScreen.exe` 启动服务
3. 看到启动成功信息后，打开浏览器访问 `http://localhost:8080`

### 方式二：Python环境运行

#### 1. 安装Python环境

**Windows用户：**
1. 访问 [Python官网](https://www.python.org/downloads/)
2. 下载Python 3.8+版本
3. 安装时勾选「Add Python to PATH」
4. 验证安装：打开命令提示符，输入 `python --version`

#### 2. 安装依赖

```bash
cd myapp
pip install -r requirements.txt
```

#### 3. 配置和运行

1. 按照上述步骤配置API密钥
2. 双击运行 `run.bat` 或手动执行：
   ```bash
   python server.py
   ```

## 📱 手机访问设置

### 电脑连接手机热点

**步骤说明：**
1. **开启手机热点**
   - 打开手机「设置」→「个人热点」或「便携式热点」
   - 设置热点名称和密码
   - 开启热点功能

2. **电脑连接热点**
   - 点击电脑右下角WiFi图标
   - 选择手机创建的热点网络
   - 输入密码连接

### 手机访问电脑服务

1. **获取电脑IP地址**
   - 程序启动后会自动显示局域网访问地址
   - 或在命令提示符中输入 `ipconfig` 查看电脑在热点网络中的IP

2. **手机浏览器访问**
   - 打开手机浏览器
   - 访问电脑IP地址+端口号（如：`http://192.168.43.100:8080`）
   - 即可在手机上实时查看AI分析结果

**注意事项：**
- 确保电脑和手机在同一热点网络中
- 电脑防火墙可能需要允许8080端口访问
- 手机可以实时显示截图分析结果，支持多设备同时访问

### 横屏/竖屏适配

- **竖屏模式**：适合手机竖屏使用，内容布局紧凑
- **横屏模式**：适合平板或手机横屏，信息密度更高
- 程序会自动检测设备方向并优化显示效果

## 💡 使用方法

### 基本使用流程

1. **启动服务**
   - 运行程序后，服务器会自动启动
   - 浏览器访问显示的地址

2. **截图操作**
   - 使用任意截图工具（如微信截图、QQ截图、Snipping Tool等）
   - **快捷键**：浏览器插件支持 `Alt+Q` 快速截图
   - 截图后自动复制到剪贴板
   - 程序会自动检测并分析截图内容

3. **查看结果**
   - AI分析结果会实时显示在网页上
   - 结果会自动保存到 `log` 目录的日志文件中
   - 支持多设备同时访问和查看

### 支持的题型

- 修改ai提示词即可，默认是前端题

### 自定义提示词

可以编辑 `prompt.txt` 文件来自定义AI的回答风格和专业领域：

1. 用记事本打开 `myapp/prompt.txt`
2. 修改提示词内容
3. 重启程序生效

## ❓ 常见问题

### Q: 程序启动失败怎么办？

**A: 请检查以下几点：**
- Python版本是否为3.8+
- 是否正确安装了依赖包
- `.env` 文件是否存在且配置正确
- 端口8080是否被其他程序占用

### Q: AI无法识别截图内容？

**A: 可能的原因：**
- 腾讯云API密钥配置错误
- 账户余额不足或API调用次数超限
- 截图内容不清晰或格式不支持
- 网络连接问题

### Q: 手机无法访问电脑服务？

**A: 排查步骤：**
1. 确认手机已连接到电脑热点
2. 检查防火墙是否阻止了8080端口
3. 尝试关闭Windows防火墙测试
4. 确认IP地址是否正确

### Q: 如何查看历史解答记录？

**A: 查看方法：**
- 解答记录自动保存在 `log` 目录
- 文件名格式：`月_日.md`（如：`12_25.md`）
- 可用任意文本编辑器或Markdown阅读器打开

### Q: 程序占用内存过高？

**A: 优化建议：**
- 定期清理 `log` 目录的旧文件
- 关闭不必要的浏览器标签页
- 重启程序释放内存

## 🔧 高级配置

### 修改服务端口

编辑 `server.py` 文件，修改 `PORT` 变量：
```python
PORT = 8080  # 改为其他端口号
```

### 自定义日志保存路径

编辑 `server.py` 中的 `save_answer_to_log` 函数，修改日志目录路径。

### 配置HTTPS访问

如需HTTPS访问，可以配置SSL证书：
```bash
uvicorn server:app --host 0.0.0.0 --port 8080 --ssl-keyfile key.pem --ssl-certfile cert.pem
```

## 🌐 浏览器插件（可选）

如需使用浏览器插件功能：

1. 打开Chrome浏览器
2. 进入扩展程序管理页面 (`chrome://extensions/`)
3. 开启"开发者模式"
4. 点击"加载已解压的扩展程序"
5. 选择项目中的 `plugin` 文件夹
6. 插件安装后，点击工具栏图标即可使用

## 🛠️ 技术栈

- **后端框架**: FastAPI + Python 3.8+
- **前端技术**: HTML5 + CSS3 + JavaScript ES6+
- **AI服务**: 腾讯云混元大模型
- **实时通信**: WebSocket
- **图像处理**: Pillow (PIL)
- **打包工具**: PyInstaller
- **环境管理**: python-dotenv

## 🔒 安全特性

- ✅ **密钥安全**: API密钥通过环境变量存储，不会硬编码到代码中
- ✅ **文件保护**: `.env` 文件已添加到 `.gitignore`，防止意外提交
- ✅ **配置模板**: 提供 `.env.example` 作为安全的配置参考
- ✅ **本地处理**: 截图数据仅在本地处理，不会存储到云端
- ✅ **访问控制**: 支持局域网访问控制，可限制访问来源

## ⚠️ 重要提醒

1. **API费用**: 腾讯云混元AI按调用次数计费，请关注使用量
2. **密钥保护**: 请妥善保管API密钥，不要分享给他人
3. **网络安全**: 在公共网络环境下使用时注意数据安全
4. **合规使用**: 请确保截图内容符合相关法律法规
5. **定期更新**: 建议定期更新依赖包和API密钥

## 📊 性能优化建议

- **内存管理**: 定期清理日志文件，避免占用过多磁盘空间
- **网络优化**: 在稳定的网络环境下使用，提高AI响应速度
- **并发控制**: 避免同时处理大量截图，可能导致API限流
- **缓存策略**: 相同截图内容会复用之前的分析结果

## 📝 更新日志

### v2.0.0 (最新)
- ✨ 新增提示词外部配置文件支持
- 📦 支持一键打包成独立可执行文件
- 📱 优化移动端访问体验
- 🔧 添加详细的0基础配置教程
- 🐛 修复多项已知问题

### v1.0.0
- 🎉 初始版本发布
- 🤖 集成腾讯云混元AI
- 📋 支持剪贴板监控
- 🌐 Web界面和WebSocket通信

## 📄 许可证

本项目采用 [MIT License](https://opensource.org/licenses/MIT) 开源协议。

## 🤝 贡献指南

欢迎提交Issue和Pull Request！

**贡献方式：**
- 🐛 报告Bug或提出改进建议
- 💡 提交新功能想法
- 📖 完善文档和教程
- 🔧 提交代码优化

**开发环境搭建：**
1. Fork本项目
2. 创建功能分支：`git checkout -b feature/your-feature`
3. 提交更改：`git commit -am 'Add some feature'`
4. 推送分支：`git push origin feature/your-feature`
5. 提交Pull Request

## 📞 联系支持

如遇到问题或需要帮助，请：
- 📧 提交GitHub Issue
- 💬 查看常见问题解答
- 📚 参考详细使用教程

---

**⭐ 如果这个项目对您有帮助，请给个Star支持一下！**
